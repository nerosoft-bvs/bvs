<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="bvs_lead_form_pre_offer" model="ir.ui.view">
        <field name="name">bvs.lead.form.inherit</field>
        <field name="model">bvs.lead</field>
        <field name="inherit_id" ref="bvs_crm.bvs_lead_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='illustration']" position="after">
                <field name="product_type" invisible="1"/>
                <field name="is_pre_offer" invisible="1"/>
                <page name="pre_offer" string="Pre Offer"
                      attrs="{'invisible': ['|', ('is_pre_offer', '=', False), ('product_type', '=', 'protection')]}">
                    <group>
                        <group>
                            <field name="team_leader_pre"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="fma_tl_allocation"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="fma_record_details"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="pre_offer_checklist"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="fma_report_upload" widget="binary"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>

                            <field name="fma_submission"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="fma_Submitted" colspan="2"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>

                        <group>
                            <field name="update_valuation_instruction"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="update_valuation_appointment_check"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="update_valuation_appointment"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="update_valuation_done"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="valuation_feedback"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="valuation_status"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="negative_evaluation_acknowledgement"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="negative_evaluation_documents" widget="many2many_binary"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>
                    </group>
                    <group attrs="{'invisible': [('fma_record_details', '=', False)]}">
                        <group string="FMA Record Details">
                            <field name="fma_number_index"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="lender"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="lender_reference_no"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="fma_submission_date"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="applicants"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="selected_illustration_no"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="repayment_strategy"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="product_term"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>
                        <group string="">
                            <field name="property_value"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="loan_amount"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="mortgage_term"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="product_fee"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="initial_rate"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>
                    </group>

                    <group>
                        <group>
                            <field name="document_status"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>
                        <group>
                            <label for="lender_offer_date_picker"/>
                            <div class="o_row">
                                <i class="fa fa-calendar" aria-label="Calendar icon" title="Calendar"/>
                    <field name="lender_offer_date_picker"/>
                    <button name="action_send_sla_email" type="object" string="Send SLA Email" class="oe_highlight" attrs="{'invisible': [('lender_offer_date_picker', '=', False)]}"/>
                            </div>
                        </group>
                    </group>

                    <group string="(F) Pre Offer CheckList"
                           attrs="{'invisible': [('pre_offer_checklist', '=', False)]}">
                        <group>
                            <field name="advisor_correct" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="correct_client_names_illustration" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="correct_client_names_passport" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="client_income_matches_illustration" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="retirement_age_correct_illustration_mortgage_term" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>
                        <group>
                            <field name="htb_shared_ownership_schemes_available" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="proof_of_deposit_saved_in_folder" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="lender_selection" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="product_term_correct" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="client_acknowledgement_check" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                            <field name="advisor_approval" widget="selection_badge"
                                   attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        </group>
                    </group>
                    <group name="pre_note" string="">
                        <field name="pre_note" widget="html" placeholder="CheckList Note"
                               attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                        <field name="lender_offer_request_button"
                               attrs="{'readonly': [('is_fma_team_leader', '=', False), ('is_fma_team_member', '=', False), ('is_advisor_support', '=', False)]}"/>
                    </group>


                </page>
            </xpath>
        </field>
    </record>
</odoo>



