<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- BVS portal portfolio template -->
    <template id="bvs_portal_portfolio" name="BVS Portal: Portfolio">
        <main class="content d-none" id="portfolio" style="padding: 20px; width: 100%; max-width: 100%;">
            <div class="container-fluid" style="padding: 0; max-width: 100%;">
                <div class="mc-portfolio">
                    <h1 class="portfolio-heading">Portfolio</h1>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Property Address</th>
                                    <th>Post Code</th>
                                    <th>Borrower Type</th>
                                    <th>Mortgage Type</th>
                                    <th>Rate</th>
                                    <th>Lender Name</th>
                                    <th>Property Value</th>
                                    <th>Outstanding Amount</th>
                                    <th>Monthly Payment</th>
                                    <th>Case No</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-if="fact_find.case_history_ids">
                                    <t t-foreach="fact_find.case_history_ids" t-as="case">
                                        <tr>
                                            <td>
                                                <t t-esc="case.property_address"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.post_code"/>
                                            </td>
                                            <td>
                                                <t t-esc="dict(individual='Individual', joint='Joint').get(case.borrower_type, '')"/>
                                            </td>
                                            <td>
                                                <t t-esc="dict(residential='Residential', buy_to_let='Buy to Let', commercial='Commercial', other='Other').get(case.mortsgage_type, '')"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.rate"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.lender_name"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.property_value"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.outstanding_amount"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.monthly_mortgage_payment"/>
                                            </td>
                                            <td>
                                                <t t-esc="case.latest_case_number"/>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td colspan="10" class="text-center">No properties found. Please add a property.</td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </template>

</odoo>